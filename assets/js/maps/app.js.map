{"version":3,"sources":["node_modules/browser-pack/_prelude.js","source/js/app.js","source/js/common.js","source/js/fun.js"],"names":[],"mappings":"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","file":"app.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import {fun} from './fun';\r\nimport {removeClass} from './common';\r\n\r\n\r\nfun();\r\nremoveClass('.js-close', '.overlay');\r\n\r\n\r\n\r\n\r\n","function removeClass(sourse, target) {\r\n\r\n  const em = document.querySelector(sourse);\r\n  const el = document.querySelector(target);\r\n\r\n  em.addEventListener('click', function () {\r\n    el.classList.remove('active');\r\n  });\r\n}\r\n\r\nexport {removeClass};\r\n\r\n","function fun() {\r\n  const site = document.querySelectorAll('.js-site');\r\n  const fan = document.querySelector('.js-fan');\r\n  const value = document.querySelector('.js-value');\r\n  const save = document.querySelector('.js-save');\r\n  const info = document.querySelector('.js-info');\r\n  const unsubscribe = document.querySelector('.js-unsubscribe');\r\n  const overlay = document.querySelector('.overlay');\r\n  const difference = document.querySelector('.js-diff');\r\n\r\n\r\n  let count = 0;\r\n  let total = site.length;\r\n  let diff = 0;\r\n\r\n  function bar() {\r\n    fan.style.width = count * 100 / total + '%';\r\n    value.innerHTML = (count * 100 / total).toFixed() + '%';\r\n  }\r\n\r\n  function readFile(file, callback) {\r\n    const rawFile = new XMLHttpRequest();\r\n    rawFile.overrideMimeType('application/json');\r\n    rawFile.open('GET', file, true);\r\n    rawFile.onreadystatechange = function () {\r\n      if (rawFile.readyState === 4 && rawFile.status == '200') {\r\n        callback(rawFile.responseText);\r\n      }\r\n    };\r\n    rawFile.send(null);\r\n  }\r\n\r\n\r\n  readFile('./assets/js/subscribe.json', function (text) {\r\n    let data = JSON.parse(text);\r\n    // eslint-disable-next-line no-console\r\n    // console.log(data);\r\n    data.forEach(function (dataItem, index) {\r\n      site.forEach(function (item, i) {\r\n        if (i === index) {\r\n          item.children[1].children.item(0).innerHTML = dataItem.site;\r\n          if (dataItem.subscribed) {\r\n            item.classList.add('active');\r\n            count++;\r\n            bar();\r\n          }\r\n        }\r\n      });\r\n    });\r\n  });\r\n\r\n\r\n  site.forEach(function (item) {\r\n    item.addEventListener('click', function () {\r\n      if (item.classList.contains('active')) {\r\n        count--;\r\n        diff--;\r\n      } else {\r\n        count++;\r\n        diff++;\r\n      }\r\n      bar();\r\n      item.classList.toggle('active');\r\n    });\r\n  });\r\n\r\n  save.addEventListener('click', function () {\r\n    overlay.classList.add('active');\r\n    difference.innerHTML = (diff * 100 / total).toFixed() + '%';\r\n    if (diff < 0) {\r\n      difference.classList.add('modal__value_negative');\r\n      info.innerHTML = 'fun lost :(';\r\n    } else if (difference.classList.contains('modal__value_negative')) {\r\n      difference.classList.remove('modal__value_negative');\r\n      info.innerHTML = 'more fun added';\r\n    }\r\n    diff = 0;\r\n    readFile('./assets/js/subscribe.json', function (text) {\r\n      let data = JSON.parse(text);\r\n      site.forEach(function (dataItem, index) {\r\n        if (dataItem.classList.contains('active')) {\r\n          data.forEach(function (item, i) {\r\n            if (i === index) {\r\n              item.subscribed = true;\r\n            }\r\n          });\r\n        }else{\r\n          data.forEach(function (item, i) {\r\n            if (i === index) {\r\n              item.subscribed = false;\r\n            }\r\n          });\r\n        }\r\n      });\r\n      // eslint-disable-next-line no-console\r\n      console.log(data);\r\n    });\r\n  });\r\n\r\n  unsubscribe.addEventListener('click', function () {\r\n    site.forEach(function (item) {\r\n      if (item.classList.contains('active')) {\r\n        item.classList.remove('active');\r\n        diff--;\r\n      }\r\n    });\r\n    overlay.classList.add('active');\r\n    // console.log(diff);\r\n    difference.innerHTML = (diff * 100 / total).toFixed() + '%';\r\n    difference.classList.add('modal__value_negative');\r\n    info.innerHTML = 'fun lost :(';\r\n    diff = 0;\r\n    count = 0;\r\n    bar();\r\n    readFile('./assets/js/subscribe.json', function (text) {\r\n      let data = JSON.parse(text);\r\n      data.forEach(function (item) {\r\n        item.subscribed = false;\r\n      });\r\n      // eslint-disable-next-line no-console\r\n      console.log(data);\r\n    });\r\n  });\r\n}\r\n\r\nexport {fun};"]}